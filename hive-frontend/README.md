## Hive Frontend
---

This is the dashboard-frontend for sensor-monitoring. It manages the layouts for Grafana graphs.

![Screenshot][0]

Currently, it is desgined/intended to work with dashboard preset [stack-v2-detachedlabels][1].

The underlying Grafana preset (linked above) is intended to be a mock preset, using server values
generated by a [mock-server][2]. The mock-server can be easily modified to add more sensors and
pull the actual data from a source instead of generating mock values.

The Grafana preset used is automatically added during Docker/Grafana provisioning.

**Usage:**

* Set the `GRAFANA_ADDR` environment variable pointing to Grafana-Server, which has the above mentioned
  preset loaded. This can be done via [docker-compose][6] file.

**Adding Grafana Panels:**

* By default, it is assumed that all Grafana panels will be loaded from same dashboard,
  and the code is written as such (easy to change, though. Again, take a look at [config][3] file).

* Add the panel to the dashboard in Grafana interface first. Then when [embedding the pannel][4],
  just copy the value of `panelId` parameter, and create a new [Sensor][5] component. The examples can
  be seen from the other component-files in same directory.

  [0]: https://i.imgur.com/DznN29f.png
  [1]: https://github.com/Jaskaranbir/ttn-grafana-dash-backend/blob/master/grafana/dashboards/stack-v2-detachedlabels.json
  [2]: https://github.com/Jaskaranbir/ttn-grafana-dash-backend/tree/master/proxybackend
  [3]: https://github.com/Jaskaranbir/ttn-grafana-dash-backend/blob/master/hive-frontend/src/config.js
  [4]: http://docs.grafana.org/reference/sharing/#embed-panel
  [5]: https://github.com/Jaskaranbir/ttn-grafana-dash-backend/blob/master/hive-frontend/src/components/sensors/Sensor.js
  [6]: https://github.com/Jaskaranbir/ttn-grafana-dash-backend/blob/master/docker-compose.yml
